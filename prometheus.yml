global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    monitor: 'clisonix-cloud'

scrape_configs:
  # Clisonix Backend API
  - job_name: 'clisonix-api'
    static_configs:
      - targets: ['api:8000']
    metrics_path: '/metrics'
    scrape_interval: 5s
    relabel_configs:
      - source_labels: [__address__]
        target_label: instance
        replacement: 'clisonix-api:8000'

  # Clisonix Frontend (if exposing metrics)
  - job_name: 'clisonix-frontend'
    static_configs:
      - targets: ['frontend:3000']
    metrics_path: '/metrics'
    scrape_interval: 10s

  # ALBA Network Monitoring
  - job_name: 'alba-network'
    static_configs:
      - targets: ['api:8000']
    metrics_path: '/alba/metrics'
    scrape_interval: 10s
    relabel_configs:
      - source_labels: [__address__]
        target_label: component
        replacement: 'alba'

  # ALBI EEG Analysis
  - job_name: 'albi-eeg'
    static_configs:
      - targets: ['api:8000']
    metrics_path: '/albi/metrics'
    scrape_interval: 10s
    relabel_configs:
      - source_labels: [__address__]
        target_label: component
        replacement: 'albi'

  # JONA Neural Synthesis
  - job_name: 'jona-synthesis'
    static_configs:
      - targets: ['api:8000']
    metrics_path: '/jona/metrics'
    scrape_interval: 10s
    relabel_configs:
      - source_labels: [__address__]
        target_label: component
        replacement: 'jona'

  # AI Agent Framework Metrics
  - job_name: 'ai-agents'
    static_configs:
      - targets: ['api:8000']
    metrics_path: '/api/ai/metrics'
    scrape_interval: 5s
    relabel_configs:
      - source_labels: [__address__]
        target_label: service
        replacement: 'ai-agents'

  # System Metrics (if Node Exporter is running)
  - job_name: 'node'
    static_configs:
      - targets: ['localhost:9100']

alerting:
  alertmanagers:
    - static_configs:
        - targets:
          - localhost:9093

rule_files:
  - '/etc/prometheus/rules/*.yml'

